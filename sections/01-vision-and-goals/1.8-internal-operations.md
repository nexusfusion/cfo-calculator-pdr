# 1.8 Internal Operations & Management Systems

This subsection defines the internal dashboards and management systems required to operate the CFO Business Intelligence Calculator Suite as a business. These are **not** user-facing features but essential infrastructure for monitoring, support, compliance, and growth.

---

## 1. API Management Dashboard

**Primary users**: Engineering, DevOps, Product Managers, B2B Account Managers

**Purpose**: Monitor API health, manage B2B integrations, enforce rate limits, and track API usage for billing and capacity planning.

### Key Features
- **API health monitoring**: Real-time status of all API endpoints (uptime, error rates, latency p50/p95/p99)
- **Rate limiting**: View and adjust rate limits per API key, per endpoint, or per tier (Free/Pro/B2B)
- **API key management (B2B)**: Generate, view, revoke, and rotate API keys for B2B partners; associate keys with accounts, domains, and feature flags
- **Usage analytics**: Request volume by endpoint, by tier, by partner; identify heavy users and potential abuse

### Actions Available
- Enable/disable specific endpoints (e.g., disable legacy endpoints during migration)
- Adjust rate limits (e.g., increase limit for high-value B2B partner)
- Generate/revoke API keys for B2B partners
- Export API usage logs for billing reconciliation or abuse investigation

---

## 2. Subscription & Billing Dashboard

**Primary users**: Finance, Customer Success, Support

**Purpose**: Manage subscriptions, track revenue metrics, handle refunds and billing disputes, and monitor churn.

### Key Features
- **Subscriber overview**: List of all active, past_due, and canceled subscriptions; filter by tier (Pro, AI add-on, B2B)
- **Subscription management**: View subscription details (start date, renewal date, payment method, tier)
- **Payment tracking**: Successful charges, failed charges, retries, dunning status
- **Revenue metrics**: MRR (Monthly Recurring Revenue), ARR (Annual Recurring Revenue), ARPU (Average Revenue Per User), churn rate, LTV (Lifetime Value)
- **Invoicing**: Generate/resend invoices, apply discounts, issue credits

### Actions Available
- Upgrade/downgrade users (e.g., Pro → Free after failed payment, Free → Pro for support escalation)
- Issue refunds (full or partial)
- Extend trials (e.g., grant 30-day Pro trial to support case)
- Pause/unpause subscriptions (e.g., temporary hold for B2B partner contract negotiation)

---

## 3. Business Intelligence Dashboard

**Primary users**: Product Managers, Marketing, Executives

**Purpose**: Understand user behavior, track product-market fit, optimize conversion funnels, and monitor AI costs.

### Key Features
- **Calculator usage metrics**: Sessions per calculator, unique users per calculator, average session duration
- **Conversion funnels**: Free → Pro conversion rate, Pro → AI add-on conversion rate, anonymous → logged-in conversion rate
- **User cohort analysis**: Retention curves by sign-up month, cohort-based LTV, feature adoption by cohort
- **Export analytics**: Exports per user, export format distribution (PDF vs CSV), watermark presence (Free tier indicator)
- **AI usage & costs**: AI requests per user, AI requests per month (total), LLM API costs, AI timeout rate, AI opt-out rate
- **Feature adoption**: Scenario save rate, scenario sharing rate, multi-scenario comparison usage

### Actions Available
- Segment users (e.g., "show only users who saved 3+ scenarios but haven't exported")
- Export analytics data for custom analysis (CSV, JSON)
- Set custom alerts (e.g., "notify me if Free → Pro conversion drops below 3%")

---

## 4. Marketing Dashboard

**Primary users**: Marketing, Growth, Content

**Purpose**: Track marketing performance, optimize SEO, measure campaign ROI, and manage affiliate partnerships.

### Key Features
- **Traffic sources**: Organic search, paid search, social, referral, direct; sessions, bounce rate, conversion rate by source
- **SEO performance**: Keyword rankings, organic traffic by keyword, backlinks, top landing pages
- **Campaign performance**: CTR, CPC, conversion rate, cost per acquisition (CPA) for paid campaigns (Google Ads, LinkedIn, etc.)
- **A/B test results**: Conversion rate by variant for landing pages, CTAs, pricing pages
- **Affiliate partner performance**: Clicks, conversions, revenue attributed to each affiliate; commission owed
- **Content performance**: Blog post views, time on page, conversion rate by post; identify top-performing content
- **Email campaigns**: Open rate, click rate, unsubscribe rate, conversion rate by email campaign

### Actions Available
- Pause/activate campaigns (e.g., pause underperforming Google Ads campaign)
- Adjust budgets (reallocate spend from low-ROI to high-ROI channels)
- Approve/reject affiliate partners (prevent spam or off-brand affiliates)
- Export performance data for monthly reports

---

## 5. Social Media Dashboard

**Primary users**: Marketing, Community Manager

**Purpose**: Monitor social media engagement, track traffic from social channels, and manage content calendar.

### Key Features
- **Post performance**: Impressions, likes, shares, comments, CTR by post (Twitter, LinkedIn, Facebook, etc.)
- **Traffic from social**: Sessions, conversions, revenue attributed to social channels (via UTM tracking)
- **Content calendar**: Scheduled posts, draft posts, posting frequency by channel
- **Community mentions**: Brand mentions, @replies, sentiment analysis (positive/negative/neutral)
- **Social conversions**: Free sign-ups, Pro conversions, AI add-on upgrades attributed to social traffic

### Actions Available
- Schedule posts across channels
- Respond to mentions and comments (via integrated inbox or link to native platform)
- Export social performance reports (weekly/monthly)

---

## 6. Security & Compliance Dashboard

**Primary users**: Security, DevOps, Legal, Compliance

**Purpose**: Monitor access patterns, detect abuse, respond to security incidents, and demonstrate compliance with GDPR/CCPA.

### Key Features
- **Access monitoring**: Login attempts (successful/failed), password resets, MFA enrollment, suspicious login patterns (impossible travel, brute force)
- **API abuse detection**: Rate limit violations, unusual request patterns, IP blacklist hits
- **Security incidents**: Active incidents (unauthorized access, data breach, DDoS), incident timeline, response actions
- **Data access logs**: Who accessed what data, when, from where (IP, device); pseudonymous user IDs only
- **Compliance tracking (GDPR/CCPA)**: Data deletion requests (pending/completed), data export requests, consent logs (AI opt-in, telemetry opt-in)
- **Encryption & key management**: Status of encryption at rest, encryption in transit, API key rotation schedule, certificate expiration warnings

### Actions Available
- Block IPs or accounts (e.g., block IP with repeated failed login attempts)
- Approve/process data deletion requests (GDPR "right to be forgotten")
- Export security logs for compliance audits or incident investigation
- Rotate API keys or certificates

---

## 7. Admin Dashboard (User Management & Support)

**Primary users**: Customer Support, Account Managers, Executives

**Purpose**: Manage user accounts, troubleshoot issues, handle support tickets, and grant manual access or upgrades.

### Key Features
- **User search**: Search by email, user ID, company name, subscription tier
- **User impersonation**: "View as user" mode to troubleshoot issues (with audit logging)
- **Account actions**: Reset password, force logout, enable/disable MFA, change email
- **Support tickets**: Open tickets (linked to user), ticket status, response time SLAs, ticket tags (bug, feature request, billing issue)
- **Scenario management**: View user's saved scenarios, delete scenarios (at user request), export scenarios for support analysis
- **Usage limits**: View user's current usage (scenarios saved, exports generated, AI requests) vs tier limits

### Actions Available
- Impersonate user (with explicit audit log entry and time limit)
- Upgrade/downgrade user manually (e.g., grant Pro access for support case resolution)
- Grant free Pro access for Beta users, influencers, or service recovery
- Ban/suspend account (for ToS violations, abuse, fraud)

---

## 8. Calculator Management Dashboard

**Primary users**: Product Managers, Engineering

**Purpose**: Manage calculator inventory, deploy updates, monitor performance, and configure feature flags.

### Key Features
- **Calculator inventory**: List of all calculators (live, beta, deprecated), metadata (name, version, formula version, last updated)
- **Performance**: Usage by calculator, error rate by calculator, p95/p99 latency by calculator
- **Version management**: Current version in production, version in staging, version history, rollback capability
- **Feature flags**: Toggle features per calculator (e.g., enable AI add-on for Calculator A, disable for Calculator B)
- **Configuration management**: Edit calculator-specific configs (tier limits, default assumptions, locale settings) without code deployment
- **Deployment status**: Which calculators are live in production, staging, or development; pending deployments

### Actions Available
- Deploy new calculator versions to staging or production
- Rollback to prior version (if new version has critical bug)
- Enable/disable calculators (e.g., disable Calculator X for maintenance)
- Edit calculator configs (e.g., change Free tier scenario limit from 1 to 2)

---

## 9. Embed/Shortcode Management Dashboard

**Primary users**: B2B Account Managers, Product Managers, Support

**Purpose**: Manage embedded calculator instances, generate shortcodes, track embed performance, and configure white-label branding.

### Key Features
- **Embed inventory**: List of all active embeds (WordPress shortcodes, iframes, SDK integrations), associated domains, B2B accounts
- **Shortcode generator**: UI to generate shortcode with parameters (calculator ID, tier, branding, feature flags)
- **Embed performance**: Sessions per embed, conversions per embed, embed load time, error rate
- **Access control**: Which domains/accounts are authorized to embed which calculators
- **White-label configuration**: Custom branding (logo, colors, disclaimers) per B2B account or domain
- **Affiliate tracking**: Embeds linked to affiliate partners; revenue attribution

### Actions Available
- Generate shortcodes for B2B partners or affiliates
- Revoke access (disable embeds for expired B2B contract or ToS violation)
- Configure branding per account (upload logo, set colors, customize footer)
- Export embed performance data for B2B partners

---

## 10. Cross-Dashboard Requirements

All dashboards must share the following capabilities:

- **Role-based access control (RBAC)**: Different users see different dashboards or different views within a dashboard (e.g., Support sees Admin Dashboard but not Finance metrics; Finance sees Billing Dashboard but not API keys)
- **Date range filters**: All dashboards support filtering by date range (last 7 days, last 30 days, last 12 months, custom range)
- **Export capabilities**: All dashboards support exporting data to CSV or JSON for custom analysis or reporting
- **Alerts & notifications**: Configure custom alerts (e.g., "notify me if API error rate exceeds 1%", "notify me if Free → Pro conversion drops below 3%")
- **Mobile responsive**: Dashboards must be usable on tablets and mobile devices (responsive design or dedicated mobile views)
- **Data freshness indicators**: Show when data was last updated (e.g., "Last updated: 5 minutes ago") to avoid stale data confusion

---

## Dashboard Architecture Considerations

### Hosting and Infrastructure

- **Separate admin subdomain**: Dashboards hosted on `admin.yourdomain.com` or similar, isolated from user-facing calculators for security and performance
- **Scalable backend**: Dashboards query data warehouse (e.g., BigQuery, Snowflake) or analytics database (e.g., TimescaleDB), not production OLTP database (to avoid performance impact on user-facing features)
- **Caching**: Dashboard queries cached (5-15 minutes) to reduce load; real-time queries limited to critical alerts (API health, security incidents)

### Data Sources

- **Production database (read replicas)**: User accounts, subscriptions, scenarios, exports
- **Analytics database**: Usage events, telemetry, conversion funnels (e.g., replicated from production via ETL pipeline)
- **Logs and monitoring**: API logs, error logs, security logs (e.g., AWS CloudWatch, Datadog, Sentry)
- **External integrations**: Stripe (billing), Google Analytics (traffic), LLM API (AI costs), email provider (campaign metrics)

### Performance and Latency

- **Dashboard load time**: Target < 2 seconds for initial load (above the fold)
- **Query execution**: Target < 5 seconds for most queries (complex analytics queries may take longer but should show progress indicator)
- **Real-time vs batch**: Real-time for critical alerts (API health, security); batch updates (hourly or daily) for analytics and reporting

### Security and Access Control

- **RBAC enforcement**: Role-based access control at API level (not just UI hiding)
- **Audit logging**: All admin actions logged (who did what, when, from where)
- **MFA required**: Multi-factor authentication required for all dashboard users
- **Session timeouts**: Auto-logout after 30 minutes of inactivity
- **IP whitelisting** (optional): Restrict dashboard access to office/VPN IPs for high-security environments

---

## Implementation Priority

### Phase 0: MVP (Required for Launch)

- **Admin Dashboard**: User management and support (can't operate without this)
- **Calculator Management Dashboard**: Deploy and configure calculators
- **API Management Dashboard**: Monitor API health and manage B2B keys

### Phase 1: Growth and Operations (3-6 Months Post-Launch)

- **Subscription & Billing Dashboard**: Required as paid subscriptions scale
- **Business Intelligence Dashboard**: Required to optimize conversion and retention
- **Security & Compliance Dashboard**: Required for SOC 2 compliance and GDPR/CCPA readiness

### Phase 2: Marketing and Partnerships (6-12 Months Post-Launch)

- **Marketing Dashboard**: Required as marketing spend scales
- **Social Media Dashboard**: Required if social becomes significant traffic source
- **Embed/Shortcode Management Dashboard**: Required as B2B partnerships scale

---

**Summary**: The suite requires 10 internal dashboards to operate effectively: API Management, Subscription & Billing, Business Intelligence, Marketing, Social Media, Security & Compliance, Admin (User Management & Support), Calculator Management, and Embed/Shortcode Management. All dashboards share RBAC, date range filters, export capabilities, alerts, mobile responsiveness, and data freshness indicators. Implementation should be phased: MVP dashboards (Admin, Calculator Management, API) for launch, growth dashboards (Billing, BI, Security) within 3-6 months, and marketing/partnership dashboards (Marketing, Social, Embed) within 6-12 months.
