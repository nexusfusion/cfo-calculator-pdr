# 4.2 Interaction Patterns

This section defines how users interact with calculators: input behavior, scenario management, tier gating, empty states, and loading states. Consistent interaction patterns reduce user confusion, accelerate learning across calculators, and create a polished, professional experience.

---

## 1. Input Behavior

### Real-Time Validation

**When to show errors**:
- **On blur** (user moves focus away from input): Validate and show error message if invalid
- **On submit** (user clicks "Calculate" or "Save"): Validate all fields, show errors for any invalid inputs
- **Not while typing**: Don't show errors as user types (annoying and disruptive)

**Validation states**:

**Untouched** (initial state):
```
Loan Amount
[  $           ]  â† Placeholder text, gray border
```

**Valid** (after blur, input is valid):
```
Loan Amount
[  $200,000    ]  â† Green checkmark (optional), normal border
```

**Invalid** (after blur, input is invalid):
```
Interest Rate
[  -5%         ]  â† Red border
âš ï¸ Interest rate must be between 0% and 50%
```

**Warning** (after blur, input is unusual but not invalid):
```
Loan Term
[  600 months  ]  â† Yellow border
âš ï¸ 600 months (50 years) is unusually long. Did you mean 60 months?
```

### Auto-Calculation Triggers

**When to recalculate results**:

**Option A: Auto-calculate on input change** (preferred for simple calculators):
- Recalculate whenever any input changes (debounced 300ms to avoid excessive recalculations)
- No "Calculate" button needed
- Provides instant feedback (responsive, feels fast)
- **Best for**: Calculators with < 10 inputs and fast calculations (< 150ms)

**Option B: Manual calculate button** (for complex calculators):
- User must click "Calculate" button to see results
- Prevents confusing intermediate states (e.g., user changes loan amount but hasn't updated term yet)
- Allows users to change multiple inputs before recalculating
- **Best for**: Calculators with 10+ inputs or slower calculations (> 150ms)

**Hybrid approach** (used in Phase 1):
- Auto-calculate for simple calculators (Equipment Lease, Breakeven)
- Manual button for complex calculators (Business Loan + DSCR with many inputs)

**During calculation** (if > 100ms):
- Show loading spinner in results panel
- Disable input fields (prevent changes mid-calculation)
- Disable "Calculate" button

### Input Masking and Formatting

**Currency inputs**:
- User types: `200000`
- On blur, auto-format: `$200,000` (add $ prefix, thousands separators)
- Allow copy-paste: Strip non-numeric characters except decimal point

**Percentage inputs**:
- User types: `7.5`
- On blur, auto-format: `7.5%` (add % suffix)
- Decimal places: 1-2 decimals (e.g., `7.5%`, `12.25%`)

**Number inputs (months, units)**:
- No auto-formatting (just validate integer)
- Suffix text (e.g., "months") shown as label or inline text

**Date inputs** (if needed):
- Use native date picker (`<input type="date">`) or custom calendar widget
- Format: MM/DD/YYYY (US) or DD/MM/YYYY (Canada), based on locale

---

## 2. Scenario Management

### Creating New Scenarios

**Free tier**:
```
User clicks "+ Add Scenario" button
  â†“
Upgrade modal appears:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ Unlock Multiple Scenarios      â”‚
â”‚                                    â”‚
â”‚  Free tier includes 1 scenario.    â”‚
â”‚  Upgrade to Pro to save up to 10   â”‚
â”‚  scenarios and compare them        â”‚
â”‚  side-by-side.                     â”‚
â”‚                                    â”‚
â”‚  [ Learn More ]  [ Upgrade â†’ ]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pro tier**:
```
User clicks "+ Add Scenario" button
  â†“
"Create New Scenario" modal appears:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create New Scenario               â”‚
â”‚                                    â”‚
â”‚  Name:                             â”‚
â”‚  [  Scenario 3  ]                  â”‚
â”‚                                    â”‚
â”‚  Copy from:                        â”‚
â”‚  [  Base Case  â–¼  ]                â”‚
â”‚  (Start with inputs from this      â”‚
â”‚   scenario, then tweak)            â”‚
â”‚                                    â”‚
â”‚  [ Cancel ]    [ Create ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
New tab appears with copied inputs
User tweaks inputs to create variant
```

**Limits**:
- Free tier: 1 scenario (upgrade prompt on attempt to add 2nd)
- Pro tier: 10 scenarios (soft limit; show warning at 8, hard limit at 10)
- B2B tier: Configurable (default 10, can be increased per tenant)

### Switching Between Scenarios

**Tab interface** (desktop):
```
User clicks inactive scenario tab
  â†“
Active tab changes (visual indicator: bold, underline)
Results panel updates instantly to show that scenario's outputs
Inputs panel updates to show that scenario's inputs
```

**Performance**:
- Switching scenarios is instant (< 100ms)
- Cached results (don't recalculate unless inputs changed)
- Smooth transition (no loading spinner for cached scenarios)

**Dropdown interface** (mobile):
```
User taps scenario dropdown
  â†“
Dropdown menu appears with all scenarios
  [ Base Case ]  â† Currently selected
  [ Aggressive ]
  [ Conservative ]
  [ + Add New ]
  â†“
User selects scenario
Dropdown closes, results update
```

### Comparing Scenarios Side-by-Side (Pro Only)

**Trigger**:
```
User clicks "Compare Scenarios" button in results panel
  â†“
Comparison view opens:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Compare Scenarios                                     â”‚
â”‚                                                        â”‚
â”‚  Select scenarios to compare:                          â”‚
â”‚  [âœ“] Base Case   [âœ“] Aggressive   [ ] Conservative    â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Base Case    Aggressive                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Payment     $4,000       $4,800                 â”‚  â”‚
â”‚  â”‚ DSCR        1.32         1.08                   â”‚  â”‚
â”‚  â”‚ Total Cost  $240K        $288K                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  [Chart: Bar chart comparing key metrics]             â”‚
â”‚                                                        â”‚
â”‚  [ Close ]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Free tier**: "Compare Scenarios" button locked with upgrade prompt

**Comparison features**:
- Select 2-3 scenarios to compare (checkboxes)
- Side-by-side table of key metrics
- Bar chart showing differences
- Delta indicators (e.g., "Aggressive: +$800/month vs Base Case")

### Deleting/Archiving Scenarios

**Delete flow**:
```
User hovers over scenario tab â†’ X icon appears
User clicks X
  â†“
Confirmation modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Delete "Aggressive" scenario?     â”‚
â”‚                                    â”‚
â”‚  This cannot be undone.            â”‚
â”‚                                    â”‚
â”‚  [ Cancel ]    [ Delete ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
Scenario deleted, tab removed
If deleted scenario was active, switch to first remaining scenario
```

**Cannot delete last scenario**:
- If only 1 scenario remains, X icon is hidden or disabled
- Tooltip: "You must have at least one scenario"

**Archive** (Phase 2+ feature):
- Instead of deleting, archive scenarios (hidden from main list but recoverable)
- "Archived Scenarios" section in account dashboard

---

## 3. Tier Gating UI Patterns

### Locked Feature Indicators

**Lock icon** (for features requiring upgrade):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DSCR                          ğŸ”’  â”‚
â”‚  [Locked - Upgrade to Pro]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Blur overlay** (alternative to lock icon):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DSCR                              â”‚
â”‚  â–ˆ.â–ˆâ–ˆ  â† Blurred text              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚  [ Upgrade to Pro to unlock ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**"Pro" badge** (for features available in Pro tier):
```
[ Compare Scenarios ]  Pro
```

**Visual hierarchy**:
- Locked features are visually de-emphasized (gray, low opacity)
- Unlocked features are vibrant (full color, full opacity)
- Reinforces value of upgrading

### Upgrade Prompt Modals

**When triggered**:
- User clicks locked feature (locked metric, "Add Scenario" button, "Share" button)
- User attempts action that exceeds Free tier limits (save 2nd scenario, generate 6th export this month)

**Modal structure**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ Unlock [Feature Name]          â”‚
â”‚                                    â”‚
â”‚  [Brief explanation of feature]    â”‚
â”‚  [Why it's valuable to user]       â”‚
â”‚                                    â”‚
â”‚  Free tier includes:               â”‚
â”‚  â€¢ Single scenario                 â”‚
â”‚  â€¢ Basic metrics                   â”‚
â”‚  â€¢ Watermarked exports             â”‚
â”‚                                    â”‚
â”‚  Pro tier adds:                    â”‚
â”‚  âœ“ Up to 10 scenarios              â”‚
â”‚  âœ“ DSCR and advanced metrics       â”‚
â”‚  âœ“ Clean exports                   â”‚
â”‚  âœ“ Scenario sharing                â”‚
â”‚                                    â”‚
â”‚  $29/month                         â”‚
â”‚                                    â”‚
â”‚  [ Learn More ]  [ Upgrade â†’ ]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Frequency limits**:
- Show upgrade modal max 3 times per session (avoid annoying users)
- After 3rd dismiss, show inline prompt only (no modal)
- Track dismissals in sessionStorage

### Feature Teaser UI

**Show Pro features to Free users** (with clear upgrade CTAs):

**Teaser example** (multi-scenario comparison):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Compare Scenarios (Pro)           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚  Compare up to 3 scenarios side-   â”‚
â”‚  by-side with charts and delta     â”‚
â”‚  indicators.                       â”‚
â”‚                                    â”‚
â”‚  [Preview image or video]          â”‚
â”‚                                    â”‚
â”‚  [ Upgrade to unlock â†’ ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Placement**:
- In results panel, below key metrics (where Pro features would appear)
- Not intrusive (doesn't block core functionality)

---

## 4. Empty States and Sample Scenarios

### First-Time User Experience

**New user lands on calculator** â†’ Show welcome modal:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Welcome to the Business Loan      â”‚
â”‚  + DSCR Calculator                 â”‚
â”‚                                    â”‚
â”‚  Try a sample scenario or start    â”‚
â”‚  from scratch.                     â”‚
â”‚                                    â”‚
â”‚  [ Try Sample ]  [ Start Fresh ]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**"Try Sample"**:
- Pre-fills inputs with realistic values (e.g., $200K loan, 7.5% rate, 60 months)
- Calculates results immediately
- User can tweak inputs to explore

**"Start Fresh"**:
- Blank inputs (placeholders shown)
- No results until user enters inputs and calculates

**Returning user** (has saved scenarios):
- No welcome modal
- Loads most recent scenario automatically

### "Try It" vs "Start From Scratch" Options

**Try It** (recommended for first-time users):
- Sample scenario demonstrates calculator's value immediately
- Users see results without effort, understand what the calculator does
- **Sample scenarios per calculator**:
  - Business Loan: $200K, 7.5%, 60 months, $50K/month income
  - Cash Runway: $500K cash, $60K/month burn, 8.3 months runway
  - Breakeven: $50 price, $30 variable cost, $18K fixed costs

**Start From Scratch** (for experienced users):
- Blank inputs (faster for users who know exactly what they want to calculate)
- No pre-filled values to clear

### Calculator-Specific Sample Scenarios

Each calculator defines 1-3 sample scenarios in its PDR (Section 11):

**Business Loan Calculator**:
1. **Small Business Expansion**: $100K, 6.5%, 5 years
2. **Equipment Purchase**: $250K, 7.0%, 7 years
3. **Working Capital**: $50K, 9.0%, 3 years

**Cash Runway Calculator**:
1. **Startup Burn**: $300K cash, $50K/month burn
2. **Growth Stage**: $2M cash, $150K/month burn

**Dropdown selector** (in calculator):
```
Load Sample Scenario:
[  Select a sample...  â–¼  ]
  - Small Business Expansion
  - Equipment Purchase
  - Working Capital
```

---

## 5. Loading and Progress States

### Calculation in Progress

**If calculation takes > 100ms**:

```
Results panel shows spinner:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    â”‚
â”‚         â³ Calculating...          â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Inputs panel:
- Input fields disabled (grayed out)
- "Calculate" button shows spinner: [ â³ Calculating... ]
```

**After calculation completes** (< 150ms typical):
- Spinner disappears
- Results fade in (smooth transition, not jarring)
- Input fields re-enabled

**If calculation exceeds 3 seconds** (rare, likely error):
- Show error message: "Calculation is taking longer than expected. Please try again."
- Re-enable inputs, allow user to retry

### Export Generation

**Sync export** (< 3 seconds, typical for single-scenario PDF/CSV):

```
User clicks "Export PDF"
  â†“
Button shows spinner: [ â³ Generating... ]
  â†“
After 2 seconds, download starts automatically
Button returns to normal: [ Export PDF ]
```

**Async export** (> 3 seconds, multi-scenario or large exports):

```
User clicks "Export PDF"
  â†“
Modal appears:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generating Export                 â”‚
â”‚                                    â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 45%          â”‚
â”‚  Estimated time: 8 seconds         â”‚
â”‚                                    â”‚
â”‚  We'll notify you when it's ready. â”‚
â”‚  You can continue working.         â”‚
â”‚                                    â”‚
â”‚  [ Close ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
User can close modal, continue using calculator
  â†“
When export completes, toast notification:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ Export ready!                   â”‚
â”‚  [ Download ] [ Dismiss ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Progress bar updates**:
- Poll export job status every 2 seconds
- Update progress bar (e.g., 0% â†’ 25% â†’ 50% â†’ 75% â†’ 100%)
- Show estimated time remaining

### AI Narrative Generation

**AI request flow**:

```
User clicks "âœ¨ AI Explanation"
  â†“
Button shows spinner: [ â³ Generating... ]
AI section appears in results panel with typing indicator:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ AI Explanation                 â”‚
â”‚                                    â”‚
â”‚  â³ Analyzing your scenario...     â”‚
â”‚  â–Œâ† Blinking cursor                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
After 1-3 seconds, narrative appears (typewriter effect):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ AI Explanation                 â”‚
â”‚                                    â”‚
â”‚  Your DSCR of 1.32 is above the    â”‚
â”‚  typical lender threshold of 1.25, â”‚
â”‚  providing comfortable headroom... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Timeout handling** (> 10 seconds):
```
If AI request exceeds 10 seconds:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ AI Explanation                 â”‚
â”‚                                    â”‚
â”‚  âš ï¸ AI is taking longer than usual.â”‚
â”‚  Please try again.                 â”‚
â”‚                                    â”‚
â”‚  [ Try Again ]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Failure handling** (AI service down):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ AI Explanation                 â”‚
â”‚                                    â”‚
â”‚  âš ï¸ AI service is temporarily      â”‚
â”‚  unavailable. Try again in a few   â”‚
â”‚  minutes.                          â”‚
â”‚                                    â”‚
â”‚  For assistance, consult a         â”‚
â”‚  financial advisor.                â”‚
â”‚                                    â”‚
â”‚  [ Dismiss ]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Rate limit handling** (user exceeded 50 AI requests/month):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ AI Explanation                 â”‚
â”‚                                    â”‚
â”‚  ğŸ”’ You've reached your AI request â”‚
â”‚  limit (50/month). Limit resets on â”‚
â”‚  Feb 1, 2025.                      â”‚
â”‚                                    â”‚
â”‚  [ Learn More ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

These interaction patterns ensure calculators are intuitive, responsive, and professional. Key principles:
- **Instant feedback**: Validate inputs on blur, calculate on change (if fast)
- **Clear tier boundaries**: Lock icons, upgrade prompts, feature teasers
- **Graceful loading**: Spinners, progress bars, timeout handling
- **Sample scenarios**: Help first-time users see value immediately
- **Consistent behavior**: Scenario management, export flows, AI requests work the same across all calculators
