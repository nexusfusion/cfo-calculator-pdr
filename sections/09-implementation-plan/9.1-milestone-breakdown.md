# 9.1 Milestone Breakdown

This section defines the implementation milestones for the CFO Business Intelligence Calculator Suite, including timeline estimates, key deliverables, and success criteria for each phase. The implementation follows the phased roadmap defined in Section 2.3.

---

## Implementation Philosophy

**Approach**: Incremental delivery with validated foundations

**Principles**:
- **Foundation first**: Build shared infrastructure (calculation engine, UI components, export service) before building calculators
- **Validate early**: Launch 2 calculators (M1) before building remaining 6 (M2) to validate architecture and user experience
- **Iterate based on data**: Use analytics from early calculators to optimize later implementations
- **Reduce risk**: Phased rollout allows course correction before major investment

**Milestone structure**:
- **M0**: Platform baseline (foundation, no calculators)
- **M1**: First 2 calculators in production (validation)
- **M2**: Full Phase 1 set live (8 calculators)
- **M3+**: Phase 2 and 3 expansions (ongoing)

---

## M0: Platform Baseline (Foundation)

### Timeline

**Duration**: 8-10 weeks

**Start**: Week 1 (project kickoff)

**End**: Week 8-10 (foundation complete, ready for calculator development)

### Key Deliverables

**1. Calculation Engine Architecture and Formula Library**

**Components**:
- **Formula versioning system**: Each formula has a version number (v1, v2, etc.) to track changes over time
  - Example: `calculateDSCR_v1.ts`, `calculateDSCR_v2.ts`
  - Results include version stamp (e.g., "Calculated using DSCR formula v2")

- **Formula library structure**:
  ```typescript
  interface FormulaResult {
    version: string;
    inputs: Record<string, number>;
    outputs: Record<string, number>;
    warnings: Array<{ code: string; message: string }>;
    timestamp: string;
  }

  function calculateDSCR(inputs: LoanInputs): DSCRResult {
    // Validation, calculation, warning generation
    return { version: 'v1', inputs, outputs, warnings, timestamp };
  }
  ```

- **Regression test framework**: Golden scenario tests for each formula
  - Example: DSCR formula with known inputs must produce known outputs within 0.01% tolerance
  - Automated tests run on every code change (CI/CD pipeline)
  - Test data stored in `/tests/golden-scenarios/dscr.json`

- **Input validation and sanitization**:
  - Range validation (e.g., interest rate 0-30%, loan term 1-30 years)
  - Type validation (numbers only, no strings in numeric fields)
  - Edge case handling (division by zero, negative values, extremely large inputs)

**2. Shared UI Component Library**

**Components built**:
- **Input components**:
  - `CurrencyInput` (formatted with $, commas, decimal handling)
  - `PercentageInput` (formatted with %, 0-100 range enforcement)
  - `NumberInput` (generic numeric input with validation)
  - `SelectInput` (dropdown for options like loan type, term units)

- **Result components**:
  - `MetricCard` (displays single calculated result with label, value, unit)
  - `ResultsGrid` (grid layout for multiple metrics)
  - `ChartCard` (wrapper for chart visualizations)
  - `WarningBanner` (displays warnings with icon and message)

- **Scenario management**:
  - `ScenarioTabs` (tabs for switching between scenarios, Pro tier only)
  - `ScenarioActions` (save, delete, rename buttons)
  - `AddScenarioButton` (triggers upgrade prompt for Free tier)

- **Action components**:
  - `ExportButton` (triggers export modal, shows watermark warning for Free)
  - `UpgradePromptModal` (upgrade CTA with tier comparison)
  - `LoadingSpinner` (for async operations)

**Technology**:
- React 18+ with TypeScript
- Tailwind CSS for styling (per Section 4.3)
- Zustand for state management
- Component library documented in Storybook

**3. Export Service**

**Capabilities**:
- **PDF generation**:
  - Puppeteer for rendering (headless Chrome)
  - Templates include: header with calculator name, inputs table, results table, footer with disclaimers and version
  - Watermarking for Free tier: "Generated by [Product Name] - Upgrade for clean exports" diagonal across each page
  - Version stamps: "Calculated using DSCR formula v2 on 2025-11-17"

- **CSV generation**:
  - Metadata headers: calculator name, version, timestamp, user tier
  - Structured format: Inputs section, Outputs section, Warnings section
  - Example:
    ```csv
    # Business Loan + DSCR Calculator
    # Version: v2
    # Generated: 2025-11-17T21:30:00Z
    # Tier: Free

    Section,Field,Value
    Inputs,Loan Amount,250000
    Inputs,Interest Rate,7.5%
    Outputs,Monthly Payment,2958.04
    Outputs,DSCR,1.42
    ```

- **Basic Excel support**:
  - Single-sheet workbook using ExcelJS library
  - Formatted cells (currency, percentage, bold headers)
  - Same structure as CSV (inputs, outputs, warnings)

- **Async queue for large exports**:
  - BullMQ (Redis-backed queue) for export jobs
  - Prevents timeout on complex exports (e.g., multi-scenario comparisons)
  - Progress tracking: "Generating export... 60% complete"

**4. Analytics and Telemetry Infrastructure**

**Implementation**:
- **Event tracking library**: Custom wrapper around analytics provider (Mixpanel, Amplitude, or custom ClickHouse)
  ```typescript
  trackEvent('calculator_viewed', {
    session_id: sessionId,
    user_id: userId,
    tier: userTier,
    calculator_slug: 'business-loan-dscr',
    scenario_count: 0,
    timestamp: new Date().toISOString(),
  });
  ```

- **Standard events instrumented** (per Section 7.2):
  - calculator_viewed
  - calculator_calculated
  - export_requested
  - upgrade_prompt_shown
  - (remaining events added in M1 when features are available)

- **Analytics provider integration**:
  - Mixpanel SDK (preferred for ease of setup) or
  - Custom ClickHouse pipeline (if cost is concern, higher complexity)

- **Event validation**: Schema validation for all events (prevent malformed data)

**5. WordPress Plugin for Embedding Calculators**

**Features**:
- **Shortcode system**:
  ```
  [smart_calculator slug="business-loan-dscr" height="600px"]
  ```

- **Iframe embedding**: Calculator loads in iframe (isolated from WordPress environment)
  - Prevents CSS conflicts
  - Prevents JavaScript conflicts
  - Graceful fallback if iframe blocked

- **Basic configuration**:
  - Shortcode parameters: slug (calculator ID), height (iframe height), theme (light/dark)
  - Admin settings page: API key configuration, default theme

- **Responsive**: Iframe resizes based on content height (postMessage communication)

**6. Basic Tier Gating Logic**

**Features**:
- **Free vs Pro checks**:
  ```typescript
  function canCreateScenario(user: User): boolean {
    if (user.tier === 'free') return false;
    if (user.tier === 'pro' || user.tier === 'ai' || user.tier === 'b2b') return true;
    return false;
  }
  ```

- **Upgrade prompt modals**:
  - Triggered when Free user clicks locked feature (e.g., "Add Scenario")
  - Modal shows: tier comparison table, pricing, "Upgrade Now" CTA
  - Tracks event: upgrade_prompt_shown with trigger_reason

- **Feature flag framework**:
  - Suite-level flags: `suite_scenarios_enabled` (boolean)
  - Per-calculator flags: `calc_dscr_advanced_metrics` (boolean)
  - Infrastructure for tenant-level overrides (implemented in M2)

**7. Database Schema**

**Tables created**:
- **users**: user_id (UUID), email, tier, tenant_id, created_at, updated_at
- **scenarios**: scenario_id (UUID), user_id, calculator_slug, inputs (JSONB), outputs (JSONB), created_at, updated_at
- **sessions**: session_id (UUID), user_id (nullable for anonymous), created_at, expires_at
- **exports**: export_id (UUID), user_id, scenario_id, export_format, file_url, created_at
- **tenant_configs**: tenant_id (UUID), ai_enabled, ai_redaction_level, created_at, updated_at (for M2)

**Database**: PostgreSQL 14+ (JSONB support, partitioning for analytics)

**Migrations**: Managed with Prisma or TypeORM

**8. API Structure**

**Endpoints**:
- `POST /api/calculate`: Execute calculation
  - Request: `{ calculator_slug, inputs }`
  - Response: `{ version, outputs, warnings }`

- `POST /api/scenarios`: Save scenario (Pro tier only)
  - Request: `{ calculator_slug, inputs, outputs }`
  - Response: `{ scenario_id }`

- `GET /api/scenarios`: List scenarios for user
  - Response: `[ { scenario_id, calculator_slug, inputs, outputs, created_at } ]`

- `POST /api/exports`: Request export
  - Request: `{ scenario_id, export_format }`
  - Response: `{ export_id, status: 'queued' }`

- `GET /api/exports/:export_id`: Check export status
  - Response: `{ status: 'completed', file_url }` or `{ status: 'processing', progress: 60 }`

**Technology**: Node.js + Fastify (per Section 3.2)

### Success Criteria

**Measurable outcomes**:

1. **Formula library accuracy**: All golden scenario tests pass with <0.01% tolerance
   - Example: DSCR calculation with inputs ($250k, 7.5%, 10 years) produces monthly payment of $2,958.04 ± $0.30

2. **UI component rendering**: All components render correctly in:
   - WordPress (latest version + previous 2 major versions)
   - Standalone mode (direct URL access)
   - Mobile browsers (iOS Safari, Android Chrome)

3. **Export generation**: Exports generate successfully for test scenarios:
   - PDF with watermark: Completes in <3 seconds (p95)
   - CSV: Completes in <1 second
   - File is valid and opens correctly in Adobe Reader / Excel

4. **Analytics tracking**: Events tracked correctly:
   - Events appear in analytics platform within 5 minutes
   - Event properties are valid (no null/undefined for required fields)

5. **Upgrade prompts**: Tier gating works correctly:
   - Free user clicking "Add Scenario" triggers upgrade_prompt_shown event
   - Modal displays with correct tier comparison
   - Free user cannot create second scenario (blocked by backend)

**Gate for M1**: All success criteria must pass before starting calculator development.

---

## M1: First Two Calculators in Production

### Timeline

**Duration**: 6-8 weeks after M0

**Start**: Week 11 (after M0 complete)

**End**: Week 17-19 (2 calculators live)

### Key Deliverables

**1. Calculator 1: Business Loan + DSCR**

**Features**:
- **Inputs**: Loan amount, interest rate, term (months or years), origination fee (optional)
- **Outputs**: Monthly payment, total interest, total cost, DSCR (if revenue/expenses provided)
- **Advanced metrics** (Pro tier): Amortization schedule, interest vs principal breakdown, payoff scenarios
- **Warnings**: Low DSCR (<1.25), high debt-to-income, balloon payment alert

**Golden scenarios** (10+ test cases):
- Typical SBA 7(a) loan: $250k, 7.5%, 10 years → Monthly payment $2,958.04, total interest $105,000
- Short-term loan: $50k, 9%, 3 years → Monthly payment $1,589.04
- Edge case: $1M, 15%, 30 years → Test for numerical stability

**Testing**:
- All golden scenarios pass with <0.01% tolerance
- UI renders correctly with various input combinations
- Warnings trigger appropriately (e.g., DSCR <1.25 shows warning)

**2. Calculator 2: Cash Runway & Burn Rate**

**Features**:
- **Inputs**: Current cash, monthly revenue, monthly expenses, one-time costs (optional)
- **Outputs**: Monthly burn rate, cash runway (months), break-even date, cash depletion date
- **Advanced metrics** (Pro tier): Runway extension scenarios, sensitivity analysis (what if revenue drops 20%)
- **Warnings**: Runway <6 months (critical), runway <12 months (warning), negative burn (profitable)

**Golden scenarios** (10+ test cases):
- Typical startup: $150k cash, $25k revenue, $35k expenses → 15 months runway, $10k burn
- Profitable: $100k cash, $50k revenue, $40k expenses → Infinite runway, +$10k/month
- Edge case: $1M cash, $0 revenue, $100k expenses → 10 months runway

**Testing**:
- All golden scenarios pass
- Runway calculation handles profitable scenarios (infinite runway display)
- Break-even date calculation correct

**3. Full Free/Pro Tier Implementation**

**Free tier**:
- Single scenario only (default scenario, cannot save)
- Basic metrics only (monthly payment, DSCR, runway)
- Watermarked exports (PDF, CSV, Excel)
- No AI narratives

**Pro tier**:
- Multiple scenarios (up to 50)
- Advanced metrics (amortization schedule, sensitivity analysis)
- Clean exports (no watermark)
- No AI narratives (requires AI add-on)

**Gating**:
- Free user clicking "Add Scenario" → upgrade_prompt_shown with trigger_reason: "add_scenario"
- Free user clicking advanced metric → upgrade_prompt_shown with trigger_reason: "locked_metric"
- Pro user can create scenarios, view advanced metrics, download clean exports

**4. Basic AI Narrative Integration**

**Scope**: Limited to 2 calculators (DSCR explanation, runway explanation)

**Prompts** (per Section 8.2):
- DSCR explanation: "Explain what this DSCR of 1.42 means and whether it's acceptable for lenders."
- Runway explanation: "Explain the risk of a 15-month runway with $10k burn rate."

**Implementation**:
- Anthropic Claude Sonnet 4 API integration
- 50 requests/month quota enforcement (AI tier only)
- Response caching (1-hour TTL for identical inputs)
- Prompt caching (system prompts)

**Testing**:
- AI responses generate successfully for test scenarios
- Responses include required disclaimers (per Section 8.1)
- Response time <3 seconds (p95)

**5. Exports Working End-to-End**

**Features**:
- PDF with version stamps: "Calculated using DSCR formula v2 on 2025-11-17"
- CSV with metadata headers (calculator name, version, timestamp, tier)
- Excel basic format (single sheet)

**Quality standards** (board-ready PDFs):
- Professional formatting (clean layout, readable fonts, proper spacing)
- Accurate data (inputs and outputs match calculation)
- Disclaimers in footer (per Section 5.3)
- Watermark for Free tier (diagonal, semi-transparent, "Upgrade for clean exports")

**6. WordPress Embeds Live**

**Deployment**:
- At least 2 calculators embedded on Plus One Capital website
- Shortcode examples provided in admin documentation
- Responsive on desktop and mobile

**Performance**:
- WordPress embeds load within 2 seconds (iframe loads, calculator renders)

**7. Payment Integration**

**Stripe integration**:
- Checkout session creation for Pro tier upgrade ($29/month)
- Webhook handling for subscription events:
  - `customer.subscription.created` → Set user tier to 'pro'
  - `customer.subscription.deleted` → Set user tier to 'free'
  - `invoice.payment_succeeded` → Log payment event
  - `invoice.payment_failed` → Send email notification, downgrade after 3 failures

**Testing**:
- Test mode: Upgrade flow works end-to-end with Stripe test cards
- Webhooks fire correctly and update user tier in database
- Subscription management: Users can upgrade, cancel, update payment method

**8. User Authentication**

**Features**:
- Signup: Email + password (hashed with bcrypt)
- Login: Session-based (JWT tokens stored in httpOnly cookies)
- Session management: 30-day expiration, refresh on activity
- Password reset: Email-based reset link (expires in 1 hour)

**OAuth support** (optional for M1):
- Google OAuth
- Microsoft OAuth (for B2B users)

**Testing**:
- Signup creates user with correct default tier (free)
- Login creates valid session
- Session persists across page reloads
- Logout clears session correctly

### Success Criteria

**Measurable outcomes**:

1. **Golden scenario tests**: Both calculators pass all 10+ golden scenarios with <0.01% tolerance

2. **Free to Pro upgrade flow**: End-to-end flow works:
   - Free user clicks locked feature → Upgrade prompt shown
   - User clicks "Upgrade Now" → Stripe checkout loads
   - User completes payment → Webhook fires → User tier updated to 'pro'
   - User can now access locked features

3. **Export quality**: Exports meet board-ready standards:
   - PDF renders correctly in Adobe Reader
   - Data is accurate (matches calculator outputs)
   - Disclaimers present and readable
   - Watermark visible on Free tier exports, absent on Pro tier

4. **AI narratives**: AI responses generate successfully:
   - Response time <3 seconds (p95)
   - Responses include required disclaimers
   - Responses are relevant and accurate (manual review of 10+ test scenarios)

5. **WordPress embeds**: Load within 2 seconds:
   - Measured with Lighthouse (Performance score >80)
   - Works on mobile and desktop browsers

**Gate for M2**: At least 80% of success criteria must pass. Minor issues can be addressed in parallel with M2 work.

---

## M2: Full Phase 1 Set Live (8 Calculators)

### Timeline

**Duration**: 8-12 weeks after M1

**Start**: Week 20 (after M1 validation complete)

**End**: Week 28-32 (all 8 calculators live)

### Key Deliverables

**1. Remaining 6 MVP Calculators Deployed**

**Calculator 3: SBA 7(a) Loan Analyzer**
- Inputs: Loan amount, rate, term, SBA guarantee percentage, fees
- Outputs: Monthly payment, total cost, DSCR, SBA guarantee amount
- Advanced metrics: Amortization, comparison to non-SBA loan

**Calculator 4: Equipment Lease vs Buy**
- Inputs: Equipment cost, lease rate, purchase rate, depreciation schedule, tax rate
- Outputs: Total cost (lease), total cost (buy), NPV comparison, break-even point
- Advanced metrics: Tax shield analysis, cash flow comparison

**Calculator 5: Breakeven & Contribution Margin**
- Inputs: Selling price, variable cost, fixed costs
- Outputs: Contribution margin, breakeven volume, breakeven revenue
- Advanced metrics: Margin of safety, sensitivity to price/cost changes

**Calculator 6: Invoice Factoring / AR Financing**
- Inputs: Invoice amount, advance rate, factoring fee, term
- Outputs: Upfront cash, total cost, effective APR
- Advanced metrics: Comparison to term loan, cash flow impact

**Calculator 7: Line of Credit Utilization**
- Inputs: Credit limit, interest rate, usage pattern, fees
- Outputs: Average balance, interest cost, utilization rate
- Advanced metrics: Optimal utilization strategy, cost comparison to term loan

**Calculator 8: Simple Business Valuation**
- Inputs: Annual revenue, EBITDA, growth rate, industry
- Outputs: Valuation range (low, mid, high), implied multiples
- Advanced metrics: DCF analysis, sensitivity to growth/discount rate

**Testing**: Each calculator has 10+ golden scenarios, all must pass.

**2. AI Narratives Expanded to All Calculators**

**Prompt customization** (per Section 8.2):
- Each calculator type has custom system prompt (lending, cash flow, profitability, valuation)
- User prompts include calculator-specific context

**Examples**:
- Lease vs Buy: "Explain whether leasing or buying is more cost-effective in this scenario."
- Valuation: "Explain what drives the valuation range and which multiple is most appropriate."

**Testing**:
- AI responses generate successfully for all 8 calculators
- Responses are relevant and accurate (manual review)
- Response time <3 seconds (p95)

**3. Pro Tier Upgrade Flows Optimized**

**A/B testing**:
- **Test 1**: Modal messaging (emphasize savings vs features)
  - Variant A: "Save hours analyzing scenarios"
  - Variant B: "Unlock unlimited scenarios for $29/month"

- **Test 2**: Pricing display (monthly vs annual upfront)
  - Variant A: "$29/month, cancel anytime"
  - Variant B: "$348/year (save $0 vs monthly)"

- **Test 3**: CTA text
  - Variant A: "Upgrade Now"
  - Variant B: "Start Free Trial"

**Tracking**:
- A/B test assignments logged (session_id → variant)
- Conversion rate per variant (upgrade_completed / upgrade_prompt_shown)
- Statistical significance testing (minimum 100 conversions per variant)

**4. B2B/White-Label Foundation**

**Tenant configuration**:
- Tenant creation API: `POST /api/tenants` (admin only)
- Tenant settings: branding (logo, colors), feature flags, AI controls
- Stored in `tenant_configs` table (per Section 8.3)

**Basic branding options**:
- Custom logo (displayed in header)
- Primary color (buttons, links)
- Custom domain (e.g., calculators.customer.com → our app with their branding)

**Testing**:
- Create test tenant with custom branding
- Verify branding appears correctly in calculators
- Verify feature flags work (e.g., tenant disables AI)

**5. Internal Dashboards**

**Dashboards built** (per Section 1.8):

**API Management Dashboard**:
- API request rate (requests per second)
- Error rate by endpoint
- Slow queries (>100ms)
- Uptime status

**Subscription & Billing Dashboard**:
- Active subscriptions by tier (Free, Pro, AI, B2B)
- MRR (monthly recurring revenue)
- Churn rate (cancellations per month)
- Failed payments (dunning workflow)

**Business Intelligence Dashboard**:
- Calculator usage (views, calculations, exports per calculator)
- Conversion funnel (views → calculations → exports → upgrades)
- AI usage (requests per user, cost per request)

**Tools**: Metabase or Grafana for dashboards, connected to PostgreSQL and ClickHouse.

**6. SEO Optimization**

**On-page SEO**:
- Meta tags for each calculator page:
  - Title: "Business Loan Calculator with DSCR | [Product Name]"
  - Description: "Calculate loan payments, DSCR, and amortization schedules. CFO-grade accuracy for business loans."
  - Keywords: "business loan calculator, DSCR calculator, SBA loan calculator"

- Structured data (Schema.org):
  - Type: SoftwareApplication
  - Properties: name, description, applicationCategory, offers

- Sitemap: XML sitemap with all calculator URLs

**Content**:
- Help text and tooltips optimized for search (contain relevant keywords)
- Blog posts (3-5 articles) linking to calculators (e.g., "How to Calculate DSCR for SBA Loans")

**Testing**:
- Google Search Console setup
- Structured data validation (Google Rich Results Test)
- Lighthouse SEO score >90

### Success Criteria

**Measurable outcomes**:

1. **All 8 calculators pass golden scenario tests**: 100% pass rate with <0.01% tolerance

2. **AI narratives working for all calculator types**:
   - Response success rate >95% (ai_narrative_displayed / ai_narrative_requested)
   - Response time <3 seconds (p95)

3. **Free to Pro conversion rate tracked and baseline established**:
   - Baseline: 3-5% monthly conversion rate (Free users → Pro)
   - A/B test results analyzed (winning variant identified)

4. **At least 3 B2B pilot customers onboarded**:
   - Each customer has custom branding configured
   - Each customer has at least 1 calculator embedded on their site
   - Feedback collected for Phase 2 improvements

5. **Internal dashboards showing real-time metrics**:
   - API Management: Updates every 5 minutes
   - Subscription & Billing: Updates hourly
   - Business Intelligence: Updates daily

**Gate for M3+**: M2 success criteria met, product-market fit validated (conversion rate, retention, customer satisfaction).

---

## M3+: Phase 2 and 3 Expansions

### Timeline

**Duration**: 12+ weeks after M2 (ongoing)

**Phase 2 start**: Week 33

**Phase 3 start**: Week 50+ (or based on market demand)

### Phase 2 Deliverables

**1. Additional Calculators Per Category**

**Lending**:
- SBA 504 Loan Analyzer (real estate focus)
- Merchant Cash Advance Calculator (high-cost financing)
- Revenue-Based Financing Calculator (tech startups)

**Cash Flow**:
- 13-Week Cash Flow Forecast (detailed weekly planning)
- Working Capital Calculator (current assets vs liabilities)

**Profitability**:
- Customer Profitability Calculator (per-customer margin analysis)
- Project ROI Calculator (capital project evaluation)

**Valuation**:
- SaaS Valuation Calculator (ARR multiples, churn impact)
- Ecommerce Valuation Calculator (revenue multiples, inventory)

**Total calculators**: 16 (8 from Phase 1 + 8 from Phase 2)

**2. Richer AI Narratives**

**Scenario comparison commentary**:
- Compare 2-3 scenarios side-by-side
- AI explains: "Scenario A has lower monthly payments but higher total interest. Scenario B breaks even 3 months sooner."

**Pattern-based suggestions across calculators**:
- AI detects patterns: "You've calculated multiple loans totaling $500k. Have you considered your overall debt service coverage across all loans?"

**3. Enhanced B2B Features**

**Advanced tenant configuration**:
- White-label domain setup (CNAME configuration)
- Custom email templates (for signup, password reset, invoices)
- SSO integration (SAML, OAuth for enterprise customers)

**Theming**:
- Full CSS customization (not just logo and colors)
- Custom fonts, button styles, layout options

**Granular feature toggles**:
- Enable/disable specific calculators per tenant
- Enable/disable specific features per calculator (e.g., scenarios, AI, exports)

**4. Advanced Exports**

**Multi-tab Excel workbooks**:
- Tab 1: Inputs
- Tab 2: Summary results
- Tab 3: Detailed calculations (amortization schedule)
- Tab 4: Charts (payment breakdown, runway trend)

**Board pack templates**:
- Combine multiple calculators into single report
- Example: Loan + Runway + Valuation → Comprehensive financing analysis

**5. Performance Optimizations**

**Caching**:
- Redis caching for calculation results (5-minute TTL)
- CDN for static assets (Cloudflare or similar)
- Database query optimization (indexes, query tuning)

**CDN improvements**:
- Edge caching for calculator pages (1-hour TTL)
- Image optimization (WebP format, lazy loading)

**Database query tuning**:
- Identify slow queries (>100ms)
- Add indexes for common queries (user scenarios, exports)
- Partition large tables (analytics events by month)

### Phase 3 Deliverables

**1. Cross-Calculator Scenario Linking**

**Feature**: Link scenarios across calculators for holistic analysis

**Example**:
- Scenario 1 (Loan): $250k loan at 7.5%
- Scenario 2 (Runway): Runway with $2,958/month loan payment
- Scenario 3 (Margin): Margin needed to cover loan payment

**AI insights**:
- "This loan reduces your runway from 18 months to 12 months. To maintain 18 months, you need to increase revenue by $3,000/month."

**2. Multi-Year Planning Tools**

**Feature**: Simplified forecasting (not full financial modeling, just planning)

**Capabilities**:
- 3-year revenue/expense projections
- Break-even timeline (when does business become profitable)
- Cash flow waterfall (monthly cash in/out over 36 months)

**3. Advanced Analytics**

**Cohort retention curves**:
- Track user retention by signup cohort (Jan 2025 cohort: 100% Month 0 → 85% Month 1 → 78% Month 2)

**LTV predictions**:
- Predict customer lifetime value based on usage patterns (calculations per month, scenarios created, exports downloaded)

**4. Evaluation of Multi-Currency and ERP Integrations**

**Multi-currency**:
- Support for EUR, GBP, CAD (not just USD)
- Currency conversion (live exchange rates)
- Multi-currency scenarios (e.g., USD loan, EUR revenue)

**ERP integrations** (via separate PDR):
- QuickBooks integration (import revenue/expense data)
- Xero integration
- NetSuite integration (for enterprise customers)

**Scope**: Requires separate PDR (significant complexity, API integration, data syncing, error handling)

---

## Summary

The implementation plan follows a phased approach:

**M0 (8-10 weeks)**: Platform baseline
- Foundation built: calculation engine, UI components, export service, analytics, WordPress plugin
- No calculators yet, but infrastructure validated

**M1 (6-8 weeks)**: First 2 calculators
- Business Loan + DSCR, Cash Runway & Burn Rate
- Full tier implementation, basic AI, payment integration
- Validation before building remaining calculators

**M2 (8-12 weeks)**: Full Phase 1 set (8 calculators)
- 6 more calculators: SBA 7(a), Equipment Lease, Breakeven, Factoring, Line of Credit, Valuation
- AI expanded to all calculators, B2B foundation, internal dashboards
- SEO optimization, A/B testing on upgrade flows

**M3+ (12+ weeks)**: Phase 2 and 3 expansions
- Additional calculators (16 total by end of Phase 2)
- Richer AI, advanced exports, performance optimizations
- Cross-calculator linking, multi-year planning, ERP integrations (Phase 3)

**Total timeline to M2**: 22-30 weeks (~5-7 months) for full Phase 1 delivery.
